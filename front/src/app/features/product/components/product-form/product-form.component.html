<form [formGroup]="productForm" (ngSubmit)="onSubmit()">
    <div class="field">
      <input name="name" type="text" placeholder="Product Name" formControlName="name" required />
      @if (name?.hasError('required') && isSubmitted) {
        <div>Product name is required</div>
      }
    </div>

    <div class="field">
      <textarea name="description" placeholder="Product Description" formControlName="description" required></textarea>
      @if (description?.hasError('required') && isSubmitted) {
        <div>Product description is required</div>
      }
    </div>

    <div class="field">
      <select name="categoryId" formControlName="categoryId" required>
        <option value="">Select a category</option>
        @for (category of categories; track category.id) {
          <option [value]="category.id">{{ category.name }}</option>
        }
      </select>
      @if (categoryId?.hasError('required') && isSubmitted) {
        <div>Category is required</div>
      }
    </div>

    <div class="field">
      <label for="images">Product Images (optional)</label>
      <input
        type="file"
        id="images"
        name="images"
        multiple
        accept="image/*"
        (change)="onFileSelect($event)"
      />
    </div>

    <div>
      <button type="submit">Create Product</button>
    </div>

    {{successMessage}}
    {{errorMessage}}
</form>
