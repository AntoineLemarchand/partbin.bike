<div class="home-container">
  <div class="header">
    <h1>PartBin</h1>
    <div class="modal-button">
      <app-modal-button modalId="new-product-modal">New product <ng-icon name="matPlusOutline" /></app-modal-button>
    </div>
  </div>

  @if (products().length > 0) {
    <div class="products-section">
      <h2>Available Products</h2>
      <div class="products-grid">
      @for (product of products(); track product.id) {
        <div class="product-card">
          <div class="product-header">
            <h3>{{ product.name }}</h3>
            <span class="product-id">#{{ product.id }}</span>
          </div>
          <p class="product-description">{{ product.description }}</p>
          <div class="product-meta">
            <small>Category: {{ product.categoryId }}</small>
            <small>Owner: {{ product.ownerId }}</small>
          </div>
        </div>
      }
      </div>
    </div>
  }

  @if (!loading() && products().length === 0) {
    <div class="empty-state" *ngIf="!loading && products.length === 0">
      <h2>No products available</h2>
      <p>Be the first to add a product to the marketplace!</p>
    </div>
  }

  @if (loading()) {
    <div class="loading">
      <p>Loading products...</p>
    </div>
  }

  <app-modal modalId="new-product-modal">
    <h2 id="modal-title">Create New Product</h2>
    <app-product-form></app-product-form>
  </app-modal>
</div>
